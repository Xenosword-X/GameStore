import{_ as U,m as V,p as N,q as D,r as p,x as r,y as k,z as F,c as l,o as n,d as I,a as e,f as j,b as q,A,i as E,F as m,k as y,n as _,w as g,u as R,B as G,t as i}from"./index-Drcz_wGL.js";const H={class:"main-section"},J={class:"container"},K={class:"row pt-4"},O={class:"col-md-12"},Q={class:"row row-cols-1 row-cols-md-3 g-4"},T=["onClick"],W={class:"card-body"},X={class:"card-title"},Y={class:"card-text"},Z={key:0},ee={key:1},te={class:"text-muted"},se={class:"text-danger"},ae={class:"mt-4"},oe={class:"pagination justify-content-center"},le=["onClick"],ne={__name:"UserCarlist",setup(ce){const C=R(),h=V(),P=N(),S=D(),c=p(""),a=p(1),u=p(9),f=r(()=>h.products),b=r(()=>S.isLoading),v=r(()=>c.value?f.value.filter(t=>t.category===c.value):f.value),d=r(()=>Math.ceil(v.value.length/u.value)),w=r(()=>{const t=(a.value-1)*u.value,o=t+u.value;return v.value.slice(t,o)});k(c,()=>{a.value=1}),k(v,()=>{const t=d.value;t===0?a.value=1:a.value>t&&(a.value=t)});const x=()=>{a.value>1&&a.value--},$=()=>{a.value<d.value&&a.value++},L=t=>{a.value=t},z=t=>{C.push(`/product/${t}`)};return F(()=>{h.getProducts(),P.getCart()}),(t,o)=>{const B=j("Loading");return n(),l("div",H,[I(B,{active:b.value},null,8,["active"]),e("div",J,[e("div",K,[e("div",O,[q(e("select",{class:"form-select mb-3","onUpdate:modelValue":o[0]||(o[0]=s=>c.value=s)},[...o[1]||(o[1]=[E('<option value="" disabled data-v-5e11de98>請選擇類別</option><option value="" data-v-5e11de98>全部</option><option value="主機" data-v-5e11de98>主機</option><option value="遊戲" data-v-5e11de98>遊戲</option><option value="配件" data-v-5e11de98>配件</option>',5)])],512),[[A,c.value]]),e("div",Q,[(n(!0),l(m,null,y(w.value,s=>(n(),l("div",{class:"col",key:s.id},[e("div",{class:"card h-100 product-card",onClick:M=>z(s.id)},[e("div",{class:"card-img-top",style:G({height:"400px",backgroundImage:`url(${s.imageUrl})`,backgroundSize:"cover",backgroundPosition:"top"})},null,4),e("div",W,[e("h5",X,i(s.title),1),e("p",Y,[s.price?(n(),l("span",ee,[e("del",te," 原價 "+i(t.$filters.currency(s.origin_price))+" 元 ",1),o[2]||(o[2]=e("br",null,null,-1)),e("strong",se," 特價 "+i(t.$filters.currency(s.price))+" 元 ",1)])):(n(),l("span",Z,i(s.origin_price)+" 元",1))])])],8,T)]))),128))]),e("nav",ae,[e("ul",oe,[e("li",{class:_(["page-item",{disabled:a.value===1}])},[e("a",{class:"page-link",href:"#",onClick:g(x,["prevent"])},"上一頁")],2),(n(!0),l(m,null,y(d.value,s=>(n(),l("li",{key:s,class:_(["page-item",{active:a.value===s}])},[e("a",{class:"page-link",href:"#",onClick:g(M=>L(s),["prevent"])},i(s),9,le)],2))),128)),e("li",{class:_(["page-item",{disabled:a.value===d.value}])},[e("a",{class:"page-link",href:"#",onClick:g($,["prevent"])},"下一頁")],2)])])])])])])}}},ie=U(ne,[["__scopeId","data-v-5e11de98"]]);export{ie as default};
