import{_ as m,r as p,c as b,o as v,a as e,w as f,b as n,v as i,d as w,e as x,f as h,u as g,g as _,h as l,s as d}from"./index-Drcz_wGL.js";const y={class:"login-page d-flex align-items-center justify-content-center vh-100 bg-light"},k={class:"card shadow-lg p-4",style:{width:"100%","max-width":"420px","border-radius":"1rem"}},E={class:"card-body"},T={class:"mb-3"},V={class:"mb-3"},A={class:"mt-4"},B={__name:"AdminLogin",setup(C){const u=g(),t=p({username:"",password:""}),c=async()=>{const r="https://vue3-course-api.hexschool.io/v2/admin/signin";try{const s=await l.post(r,t.value);if(!s.data.success)throw new Error(s.data.message||"登入失敗");const{token:a,expired:o}=s.data;document.cookie=`hexToken=${a}; expires=${new Date(o).toUTCString()}; path=/`,l.defaults.headers.common.Authorization=a,d("success","登入成功"),u.push("/dashboard/products")}catch(s){console.error("登入失敗",s),d("error","登入失敗，請確認帳號或密碼")}};return(r,s)=>{const a=h("router-link");return v(),b("div",y,[e("div",k,[e("div",E,[s[6]||(s[6]=e("div",{class:"text-center mb-4"},[e("div",{class:"display-6 mb-2"},"管理員登入"),e("p",{class:"text-muted"},"請輸入帳號與密碼")],-1)),e("form",{onSubmit:f(c,["prevent"])},[e("div",T,[s[2]||(s[2]=e("label",{for:"inputEmail",class:"form-label"},"Email 信箱",-1)),n(e("input",{type:"email",id:"inputEmail",class:"form-control",placeholder:"admin@example.com",required:"",autofocus:"","onUpdate:modelValue":s[0]||(s[0]=o=>t.value.username=o)},null,512),[[i,t.value.username]])]),e("div",V,[s[3]||(s[3]=e("label",{for:"inputPassword",class:"form-label"},"密碼",-1)),n(e("input",{type:"password",id:"inputPassword",class:"form-control",placeholder:"請輸入密碼",required:"","onUpdate:modelValue":s[1]||(s[1]=o=>t.value.password=o)},null,512),[[i,t.value.password]])]),e("div",A,[w(a,{to:"/",class:"btn btn-secondary btn-lg w-100"},{default:x(()=>[...s[4]||(s[4]=[_("回到首頁",-1)])]),_:1})]),s[5]||(s[5]=e("div",{class:"mt-4"},[e("button",{class:"btn btn-primary btn-lg w-100",type:"submit"},"登入")],-1))],32)])])])}}},U=m(B,[["__scopeId","data-v-29cbdab0"]]);export{U as default};
